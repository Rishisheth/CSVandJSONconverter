function cov_1rftiuoa42(){var path="/Users/rishisheth/Desktop/Covail/CSVandJSONconverter/lib/converter.js";var hash="3a3558cd61acd151b886038e01b607b46168b002";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rishisheth/Desktop/Covail/CSVandJSONconverter/lib/converter.js",statementMap:{"0":{start:{line:2,column:11},end:{line:2,column:24}},"1":{start:{line:3,column:13},end:{line:3,column:28}},"2":{start:{line:5,column:0},end:{line:72,column:1}},"3":{start:{line:7,column:14},end:{line:7,column:44}},"4":{start:{line:8,column:4},end:{line:8,column:25}},"5":{start:{line:9,column:4},end:{line:9,column:13}},"6":{start:{line:10,column:14},end:{line:10,column:29}},"7":{start:{line:11,column:17},end:{line:11,column:18}},"8":{start:{line:12,column:4},end:{line:16,column:5}},"9":{start:{line:12,column:17},end:{line:12,column:18}},"10":{start:{line:13,column:8},end:{line:15,column:9}},"11":{start:{line:14,column:12},end:{line:14,column:21}},"12":{start:{line:17,column:17},end:{line:17,column:19}},"13":{start:{line:18,column:4},end:{line:24,column:5}},"14":{start:{line:19,column:8},end:{line:19,column:45}},"15":{start:{line:20,column:20},end:{line:20,column:39}},"16":{start:{line:22,column:20},end:{line:22,column:76}},"17":{start:{line:23,column:22},end:{line:23,column:38}},"18":{start:{line:25,column:4},end:{line:35,column:5}},"19":{start:{line:25,column:14},end:{line:25,column:15}},"20":{start:{line:27,column:18},end:{line:27,column:20}},"21":{start:{line:28,column:24},end:{line:28,column:43}},"22":{start:{line:29,column:8},end:{line:32,column:9}},"23":{start:{line:29,column:18},end:{line:29,column:19}},"24":{start:{line:30,column:25},end:{line:30,column:46}},"25":{start:{line:31,column:12},end:{line:31,column:35}},"26":{start:{line:33,column:8},end:{line:33,column:25}},"27":{start:{line:36,column:4},end:{line:36,column:45}},"28":{start:{line:37,column:4},end:{line:37,column:45}},"29":{start:{line:38,column:4},end:{line:38,column:18}},"30":{start:{line:42,column:15},end:{line:42,column:46}},"31":{start:{line:43,column:15},end:{line:43,column:30}},"32":{start:{line:44,column:17},end:{line:44,column:19}},"33":{start:{line:45,column:17},end:{line:45,column:19}},"34":{start:{line:46,column:15},end:{line:46,column:20}},"35":{start:{line:48,column:4},end:{line:56,column:7}},"36":{start:{line:49,column:8},end:{line:51,column:9}},"37":{start:{line:50,column:12},end:{line:50,column:24}},"38":{start:{line:52,column:8},end:{line:55,column:9}},"39":{start:{line:53,column:12},end:{line:53,column:41}},"40":{start:{line:54,column:12},end:{line:54,column:31}},"41":{start:{line:57,column:4},end:{line:57,column:52}},"42":{start:{line:58,column:4},end:{line:58,column:19}},"43":{start:{line:59,column:4},end:{line:66,column:7}},"44":{start:{line:60,column:8},end:{line:65,column:9}},"45":{start:{line:61,column:12},end:{line:61,column:44}},"46":{start:{line:63,column:12},end:{line:63,column:60}},"47":{start:{line:64,column:12},end:{line:64,column:27}},"48":{start:{line:67,column:4},end:{line:67,column:29}},"49":{start:{line:68,column:4},end:{line:68,column:83}},"50":{start:{line:69,column:4},end:{line:69,column:25}},"51":{start:{line:70,column:4},end:{line:70,column:57}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:12},end:{line:6,column:13}},loc:{start:{line:6,column:59},end:{line:39,column:3}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:41,column:12},end:{line:41,column:13}},loc:{start:{line:41,column:51},end:{line:71,column:1}},line:41},"2":{name:"(anonymous_2)",decl:{start:{line:48,column:21},end:{line:48,column:22}},loc:{start:{line:48,column:37},end:{line:56,column:5}},line:48},"3":{name:"(anonymous_3)",decl:{start:{line:59,column:21},end:{line:59,column:22}},loc:{start:{line:59,column:37},end:{line:66,column:5}},line:59}},branchMap:{"0":{loc:{start:{line:13,column:8},end:{line:15,column:9}},type:"if",locations:[{start:{line:13,column:8},end:{line:15,column:9}},{start:{line:13,column:8},end:{line:15,column:9}}],line:13},"1":{loc:{start:{line:18,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:24,column:5}},{start:{line:18,column:4},end:{line:24,column:5}}],line:18},"2":{loc:{start:{line:49,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:51,column:9}},{start:{line:49,column:8},end:{line:51,column:9}}],line:49},"3":{loc:{start:{line:52,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:55,column:9}},{start:{line:52,column:8},end:{line:55,column:9}}],line:52},"4":{loc:{start:{line:60,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:65,column:9}},{start:{line:60,column:8},end:{line:65,column:9}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3a3558cd61acd151b886038e01b607b46168b002"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1rftiuoa42=function(){return actualCoverage;};}return actualCoverage;}cov_1rftiuoa42();const fs=(cov_1rftiuoa42().s[0]++,require('fs'));const path=(cov_1rftiuoa42().s[1]++,require("path"));cov_1rftiuoa42().s[2]++;module.exports={CSVtoJSON:function(csv_file_name,json_file_name,header){cov_1rftiuoa42().f[0]++;var csv=(cov_1rftiuoa42().s[3]++,fs.readFileSync(csv_file_name));cov_1rftiuoa42().s[4]++;csv=csv.toString();cov_1rftiuoa42().s[5]++;csv.trim;var lines=(cov_1rftiuoa42().s[6]++,csv.split("\n"));var length=(cov_1rftiuoa42().s[7]++,0);cov_1rftiuoa42().s[8]++;for(let y=(cov_1rftiuoa42().s[9]++,0);y<lines.length;y++){cov_1rftiuoa42().s[10]++;if(lines[y].length>0){cov_1rftiuoa42().b[0][0]++;cov_1rftiuoa42().s[11]++;length++;}else{cov_1rftiuoa42().b[0][1]++;}}var result=(cov_1rftiuoa42().s[12]++,[]);cov_1rftiuoa42().s[13]++;if(header===true){cov_1rftiuoa42().b[1][0]++;cov_1rftiuoa42().s[14]++;lines[0]=lines[0].replace(/ /g,'');var headers=(cov_1rftiuoa42().s[15]++,lines[0].split(","));}else{cov_1rftiuoa42().b[1][1]++;var blank=(cov_1rftiuoa42().s[16]++,", ,  ,   ,    ,     ,      ,       ,        ,         ");var headers=(cov_1rftiuoa42().s[17]++,blank.split(","));}cov_1rftiuoa42().s[18]++;for(var i=(cov_1rftiuoa42().s[19]++,1);i<length;i++){var obj=(cov_1rftiuoa42().s[20]++,{});var currentline=(cov_1rftiuoa42().s[21]++,lines[i].split(","));cov_1rftiuoa42().s[22]++;for(var j=(cov_1rftiuoa42().s[23]++,0);j<currentline.length;j++){const item=(cov_1rftiuoa42().s[24]++,currentline[j].trim());cov_1rftiuoa42().s[25]++;obj[headers[j]]=item;}cov_1rftiuoa42().s[26]++;result.push(obj);}cov_1rftiuoa42().s[27]++;result=JSON.stringify(result,null,4);cov_1rftiuoa42().s[28]++;fs.writeFileSync(json_file_name,result);cov_1rftiuoa42().s[29]++;return result;},JSONtoCSV:function(json_file_name,csv_file_name){cov_1rftiuoa42().f[1]++;var temp=(cov_1rftiuoa42().s[30]++,fs.readFileSync(json_file_name));var json=(cov_1rftiuoa42().s[31]++,temp.toString());var header=(cov_1rftiuoa42().s[32]++,'');var values=(cov_1rftiuoa42().s[33]++,'');var done=(cov_1rftiuoa42().s[34]++,false);var total_categories;cov_1rftiuoa42().s[35]++;JSON.parse(json,(key,value)=>{cov_1rftiuoa42().f[2]++;cov_1rftiuoa42().s[36]++;if(key==0){cov_1rftiuoa42().b[2][0]++;cov_1rftiuoa42().s[37]++;done=true;}else{cov_1rftiuoa42().b[2][1]++;}cov_1rftiuoa42().s[38]++;if(done==false){cov_1rftiuoa42().b[3][0]++;cov_1rftiuoa42().s[39]++;header=header+key+', ';cov_1rftiuoa42().s[40]++;total_categories++;}else{cov_1rftiuoa42().b[3][1]++;}});cov_1rftiuoa42().s[41]++;header=header.substring(0,header.length-2);cov_1rftiuoa42().s[42]++;header+='\n';cov_1rftiuoa42().s[43]++;JSON.parse(json,(key,value)=>{cov_1rftiuoa42().f[3]++;cov_1rftiuoa42().s[44]++;if(value.length>=1){cov_1rftiuoa42().b[4][0]++;cov_1rftiuoa42().s[45]++;values=values+value+', ';}else{cov_1rftiuoa42().b[4][1]++;cov_1rftiuoa42().s[46]++;values=values.substring(0,values.length-2);cov_1rftiuoa42().s[47]++;values+='\n';}});cov_1rftiuoa42().s[48]++;values=header+values;cov_1rftiuoa42().s[49]++;fs.writeFileSync(csv_file_name,values.substring(0,values.lastIndexOf("\n")));cov_1rftiuoa42().s[50]++;console.log("there");cov_1rftiuoa42().s[51]++;return values.substring(0,values.lastIndexOf("\n"));}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwibW9kdWxlIiwiZXhwb3J0cyIsIkNTVnRvSlNPTiIsImNzdl9maWxlX25hbWUiLCJqc29uX2ZpbGVfbmFtZSIsImhlYWRlciIsImNzdiIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwidHJpbSIsImxpbmVzIiwic3BsaXQiLCJsZW5ndGgiLCJ5IiwicmVzdWx0IiwicmVwbGFjZSIsImhlYWRlcnMiLCJibGFuayIsImkiLCJvYmoiLCJjdXJyZW50bGluZSIsImoiLCJpdGVtIiwicHVzaCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTnRvQ1NWIiwidGVtcCIsImpzb24iLCJ2YWx1ZXMiLCJkb25lIiwidG90YWxfY2F0ZWdvcmllcyIsInBhcnNlIiwia2V5IiwidmFsdWUiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiIwM0tBZVk7MkZBZFosS0FBTUEsQ0FBQUEsRUFBRSwwQkFBR0MsT0FBTyxDQUFDLElBQUQsQ0FBVixDQUFSLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSwwQkFBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLEMsd0JBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNqQkMsU0FBUyxDQUFHLFNBQVNDLGFBQVQsQ0FBd0JDLGNBQXhCLENBQXdDQyxNQUF4QyxDQUErQyx5QkFDdkQsR0FBSUMsQ0FBQUEsR0FBRywwQkFBR1QsRUFBRSxDQUFDVSxZQUFILENBQWdCSixhQUFoQixDQUFILENBQVAsQ0FEdUQsd0JBRXZERyxHQUFHLENBQUdBLEdBQUcsQ0FBQ0UsUUFBSixFQUFOLENBRnVELHdCQUd2REYsR0FBRyxDQUFDRyxJQUFKLENBQ0EsR0FBSUMsQ0FBQUEsS0FBSywwQkFBQ0osR0FBRyxDQUFDSyxLQUFKLENBQVUsSUFBVixDQUFELENBQVQsQ0FDQSxHQUFJQyxDQUFBQSxN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cyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuQ1NWdG9KU09OIDogZnVuY3Rpb24oY3N2X2ZpbGVfbmFtZSwganNvbl9maWxlX25hbWUsIGhlYWRlcil7XG4gICAgdmFyIGNzdiA9IGZzLnJlYWRGaWxlU3luYyhjc3ZfZmlsZV9uYW1lKTtcbiAgICBjc3YgPSBjc3YudG9TdHJpbmcoKTtcbiAgICBjc3YudHJpbTtcbiAgICB2YXIgbGluZXM9Y3N2LnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgbGluZXMubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgaWYgKGxpbmVzW3ldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxlbmd0aCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBpZiAoaGVhZGVyID09PSB0cnVlKSB7XG4gICAgICAgIGxpbmVzWzBdID0gbGluZXNbMF0ucmVwbGFjZSgvIC9nLCcnKTtcbiAgICAgICAgdmFyIGhlYWRlcnM9bGluZXNbMF0uc3BsaXQoXCIsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBibGFuayA9IFwiLCAsICAsICAgLCAgICAsICAgICAsICAgICAgLCAgICAgICAsICAgICAgICAsICAgICAgICAgXCI7XG4gICAgICAgIHZhciBoZWFkZXJzID0gYmxhbmsuc3BsaXQoXCIsXCIpO1xuICAgIH1cbiAgICBmb3IodmFyIGk9MTtpPGxlbmd0aDtpKyspe1xuICBcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICB2YXIgY3VycmVudGxpbmU9bGluZXNbaV0uc3BsaXQoXCIsXCIpO1xuICAgICAgICBmb3IodmFyIGo9MDtqPGN1cnJlbnRsaW5lLmxlbmd0aDtqKyspe1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGN1cnJlbnRsaW5lW2pdLnRyaW0oKTtcbiAgICAgICAgICAgIG9ialtoZWFkZXJzW2pdXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2gob2JqKTtcbiAgXG4gICAgfVxuICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgNCk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhqc29uX2ZpbGVfbmFtZSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG5KU09OdG9DU1YgOiBmdW5jdGlvbihqc29uX2ZpbGVfbmFtZSwgY3N2X2ZpbGVfbmFtZSl7XG4gICAgdmFyIHRlbXAgPSBmcy5yZWFkRmlsZVN5bmMoanNvbl9maWxlX25hbWUpO1xuICAgIHZhciBqc29uID0gdGVtcC50b1N0cmluZygpO1xuICAgIHZhciBoZWFkZXIgPSAnJztcbiAgICB2YXIgdmFsdWVzID0gJyc7XG4gICAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgICB2YXIgdG90YWxfY2F0ZWdvcmllcztcbiAgICBKU09OLnBhcnNlKGpzb24sIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT0gMCkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbmUgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGhlYWRlciA9IGhlYWRlciArIGtleSArICcsICc7XG4gICAgICAgICAgICB0b3RhbF9jYXRlZ29yaWVzKys7XG4gICAgICAgIH1cbiAgICB9KTsgXG4gICAgaGVhZGVyID0gaGVhZGVyLnN1YnN0cmluZygwLCBoZWFkZXIubGVuZ3RoIC0gMik7XG4gICAgaGVhZGVyICs9ICdcXG4nOyBcbiAgICBKU09OLnBhcnNlKGpzb24sIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzICsgdmFsdWUgKyAnLCAnIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5zdWJzdHJpbmcoMCwgdmFsdWVzLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgdmFsdWVzICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFsdWVzID0gaGVhZGVyICsgdmFsdWVzO1xuICAgIGZzLndyaXRlRmlsZVN5bmMoY3N2X2ZpbGVfbmFtZSwgdmFsdWVzLnN1YnN0cmluZygwLCB2YWx1ZXMubGFzdEluZGV4T2YoXCJcXG5cIikpKTtcbiAgICBjb25zb2xlLmxvZyhcInRoZXJlXCIpO1xuICAgIHJldHVybiB2YWx1ZXMuc3Vic3RyaW5nKDAsIHZhbHVlcy5sYXN0SW5kZXhPZihcIlxcblwiKSk7XG59XG59Il19