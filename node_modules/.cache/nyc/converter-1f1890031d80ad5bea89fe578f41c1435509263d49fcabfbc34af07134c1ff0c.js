function cov_1rftiuoa42(){var path="/Users/rishisheth/Desktop/Covail/CSVandJSONconverter/lib/converter.js";var hash="62c545f27c2743be88f3763f3f3d0c65787d141d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rishisheth/Desktop/Covail/CSVandJSONconverter/lib/converter.js",statementMap:{"0":{start:{line:2,column:11},end:{line:2,column:24}},"1":{start:{line:3,column:13},end:{line:3,column:28}},"2":{start:{line:5,column:0},end:{line:76,column:1}},"3":{start:{line:7,column:14},end:{line:7,column:44}},"4":{start:{line:8,column:4},end:{line:8,column:25}},"5":{start:{line:9,column:4},end:{line:9,column:13}},"6":{start:{line:10,column:14},end:{line:10,column:29}},"7":{start:{line:11,column:17},end:{line:11,column:18}},"8":{start:{line:12,column:4},end:{line:16,column:5}},"9":{start:{line:12,column:17},end:{line:12,column:18}},"10":{start:{line:13,column:8},end:{line:15,column:9}},"11":{start:{line:14,column:12},end:{line:14,column:21}},"12":{start:{line:17,column:17},end:{line:17,column:19}},"13":{start:{line:18,column:4},end:{line:24,column:5}},"14":{start:{line:19,column:8},end:{line:19,column:45}},"15":{start:{line:20,column:20},end:{line:20,column:39}},"16":{start:{line:22,column:20},end:{line:22,column:76}},"17":{start:{line:23,column:22},end:{line:23,column:38}},"18":{start:{line:25,column:4},end:{line:35,column:5}},"19":{start:{line:25,column:14},end:{line:25,column:15}},"20":{start:{line:27,column:18},end:{line:27,column:20}},"21":{start:{line:28,column:24},end:{line:28,column:43}},"22":{start:{line:29,column:8},end:{line:32,column:9}},"23":{start:{line:29,column:18},end:{line:29,column:19}},"24":{start:{line:30,column:25},end:{line:30,column:46}},"25":{start:{line:31,column:12},end:{line:31,column:35}},"26":{start:{line:33,column:8},end:{line:33,column:25}},"27":{start:{line:36,column:4},end:{line:36,column:45}},"28":{start:{line:37,column:4},end:{line:37,column:45}},"29":{start:{line:38,column:4},end:{line:38,column:18}},"30":{start:{line:42,column:15},end:{line:42,column:46}},"31":{start:{line:43,column:15},end:{line:43,column:30}},"32":{start:{line:44,column:17},end:{line:44,column:19}},"33":{start:{line:45,column:17},end:{line:45,column:19}},"34":{start:{line:46,column:15},end:{line:46,column:20}},"35":{start:{line:48,column:4},end:{line:56,column:7}},"36":{start:{line:49,column:8},end:{line:51,column:9}},"37":{start:{line:50,column:12},end:{line:50,column:24}},"38":{start:{line:52,column:8},end:{line:55,column:9}},"39":{start:{line:53,column:12},end:{line:53,column:41}},"40":{start:{line:54,column:12},end:{line:54,column:31}},"41":{start:{line:57,column:4},end:{line:57,column:52}},"42":{start:{line:58,column:4},end:{line:58,column:19}},"43":{start:{line:59,column:4},end:{line:66,column:7}},"44":{start:{line:60,column:8},end:{line:65,column:9}},"45":{start:{line:61,column:12},end:{line:61,column:44}},"46":{start:{line:63,column:12},end:{line:63,column:60}},"47":{start:{line:64,column:12},end:{line:64,column:27}},"48":{start:{line:67,column:4},end:{line:67,column:29}},"49":{start:{line:68,column:4},end:{line:74,column:5}},"50":{start:{line:69,column:8},end:{line:69,column:87}},"51":{start:{line:70,column:8},end:{line:70,column:61}},"52":{start:{line:72,column:8},end:{line:72,column:48}},"53":{start:{line:73,column:8},end:{line:73,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:12},end:{line:6,column:13}},loc:{start:{line:6,column:59},end:{line:39,column:3}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:41,column:12},end:{line:41,column:13}},loc:{start:{line:41,column:51},end:{line:75,column:1}},line:41},"2":{name:"(anonymous_2)",decl:{start:{line:48,column:21},end:{line:48,column:22}},loc:{start:{line:48,column:37},end:{line:56,column:5}},line:48},"3":{name:"(anonymous_3)",decl:{start:{line:59,column:21},end:{line:59,column:22}},loc:{start:{line:59,column:37},end:{line:66,column:5}},line:59}},branchMap:{"0":{loc:{start:{line:13,column:8},end:{line:15,column:9}},type:"if",locations:[{start:{line:13,column:8},end:{line:15,column:9}},{start:{line:13,column:8},end:{line:15,column:9}}],line:13},"1":{loc:{start:{line:18,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:24,column:5}},{start:{line:18,column:4},end:{line:24,column:5}}],line:18},"2":{loc:{start:{line:49,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:51,column:9}},{start:{line:49,column:8},end:{line:51,column:9}}],line:49},"3":{loc:{start:{line:52,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:55,column:9}},{start:{line:52,column:8},end:{line:55,column:9}}],line:52},"4":{loc:{start:{line:60,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:65,column:9}},{start:{line:60,column:8},end:{line:65,column:9}}],line:60},"5":{loc:{start:{line:68,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:74,column:5}},{start:{line:68,column:4},end:{line:74,column:5}}],line:68}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"62c545f27c2743be88f3763f3f3d0c65787d141d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1rftiuoa42=function(){return actualCoverage;};}return actualCoverage;}cov_1rftiuoa42();const fs=(cov_1rftiuoa42().s[0]++,require('fs'));const path=(cov_1rftiuoa42().s[1]++,require("path"));cov_1rftiuoa42().s[2]++;module.exports={CSVtoJSON:function(csv_file_name,json_file_name,header){cov_1rftiuoa42().f[0]++;var csv=(cov_1rftiuoa42().s[3]++,fs.readFileSync(csv_file_name));cov_1rftiuoa42().s[4]++;csv=csv.toString();cov_1rftiuoa42().s[5]++;csv.trim;var lines=(cov_1rftiuoa42().s[6]++,csv.split("\n"));var length=(cov_1rftiuoa42().s[7]++,0);cov_1rftiuoa42().s[8]++;for(let y=(cov_1rftiuoa42().s[9]++,0);y<lines.length;y++){cov_1rftiuoa42().s[10]++;if(lines[y].length>0){cov_1rftiuoa42().b[0][0]++;cov_1rftiuoa42().s[11]++;length++;}else{cov_1rftiuoa42().b[0][1]++;}}var result=(cov_1rftiuoa42().s[12]++,[]);cov_1rftiuoa42().s[13]++;if(header===true){cov_1rftiuoa42().b[1][0]++;cov_1rftiuoa42().s[14]++;lines[0]=lines[0].replace(/ /g,'');var headers=(cov_1rftiuoa42().s[15]++,lines[0].split(","));}else{cov_1rftiuoa42().b[1][1]++;var blank=(cov_1rftiuoa42().s[16]++,", ,  ,   ,    ,     ,      ,       ,        ,         ");var headers=(cov_1rftiuoa42().s[17]++,blank.split(","));}cov_1rftiuoa42().s[18]++;for(var i=(cov_1rftiuoa42().s[19]++,1);i<length;i++){var obj=(cov_1rftiuoa42().s[20]++,{});var currentline=(cov_1rftiuoa42().s[21]++,lines[i].split(","));cov_1rftiuoa42().s[22]++;for(var j=(cov_1rftiuoa42().s[23]++,0);j<currentline.length;j++){const item=(cov_1rftiuoa42().s[24]++,currentline[j].trim());cov_1rftiuoa42().s[25]++;obj[headers[j]]=item;}cov_1rftiuoa42().s[26]++;result.push(obj);}cov_1rftiuoa42().s[27]++;result=JSON.stringify(result,null,4);cov_1rftiuoa42().s[28]++;fs.writeFileSync(json_file_name,result);cov_1rftiuoa42().s[29]++;return result;},JSONtoCSV:function(json_file_name,csv_file_name){cov_1rftiuoa42().f[1]++;var temp=(cov_1rftiuoa42().s[30]++,fs.readFileSync(json_file_name));var json=(cov_1rftiuoa42().s[31]++,temp.toString());var header=(cov_1rftiuoa42().s[32]++,'');var values=(cov_1rftiuoa42().s[33]++,'');var done=(cov_1rftiuoa42().s[34]++,false);var total_categories;cov_1rftiuoa42().s[35]++;JSON.parse(json,(key,value)=>{cov_1rftiuoa42().f[2]++;cov_1rftiuoa42().s[36]++;if(key==0){cov_1rftiuoa42().b[2][0]++;cov_1rftiuoa42().s[37]++;done=true;}else{cov_1rftiuoa42().b[2][1]++;}cov_1rftiuoa42().s[38]++;if(done==false){cov_1rftiuoa42().b[3][0]++;cov_1rftiuoa42().s[39]++;header=header+key+', ';cov_1rftiuoa42().s[40]++;total_categories++;}else{cov_1rftiuoa42().b[3][1]++;}});cov_1rftiuoa42().s[41]++;header=header.substring(0,header.length-2);cov_1rftiuoa42().s[42]++;header+='\n';cov_1rftiuoa42().s[43]++;JSON.parse(json,(key,value)=>{cov_1rftiuoa42().f[3]++;cov_1rftiuoa42().s[44]++;if(value.length>=1){cov_1rftiuoa42().b[4][0]++;cov_1rftiuoa42().s[45]++;values=values+value+', ';}else{cov_1rftiuoa42().b[4][1]++;cov_1rftiuoa42().s[46]++;values=values.substring(0,values.length-2);cov_1rftiuoa42().s[47]++;values+='\n';}});cov_1rftiuoa42().s[48]++;values=header+values;cov_1rftiuoa42().s[49]++;if(values.lastIndexOf("\n")>0){cov_1rftiuoa42().b[5][0]++;cov_1rftiuoa42().s[50]++;fs.writeFileSync(csv_file_name,values.substring(0,values.lastIndexOf("\n")));cov_1rftiuoa42().s[51]++;return values.substring(0,values.lastIndexOf("\n"));}else{cov_1rftiuoa42().b[5][1]++;cov_1rftiuoa42().s[52]++;fs.writeFileSync(csv_file_name,values);cov_1rftiuoa42().s[53]++;return values;}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwibW9kdWxlIiwiZXhwb3J0cyIsIkNTVnRvSlNPTiIsImNzdl9maWxlX25hbWUiLCJqc29uX2ZpbGVfbmFtZSIsImhlYWRlciIsImNzdiIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwidHJpbSIsImxpbmVzIiwic3BsaXQiLCJsZW5ndGgiLCJ5IiwicmVzdWx0IiwicmVwbGFjZSIsImhlYWRlcnMiLCJibGFuayIsImkiLCJvYmoiLCJjdXJyZW50bGluZSIsImoiLCJpdGVtIiwicHVzaCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTnRvQ1NWIiwidGVtcCIsImpzb24iLCJ2YWx1ZXMiLCJkb25lIiwidG90YWxfY2F0ZWdvcmllcyIsInBhcnNlIiwia2V5IiwidmFsdWUiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiJdLCJtYXBwaW5ncyI6IityTEFlWTsyRkFkWixLQUFNQSxDQUFBQSxFQUFFLDBCQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQyx3QkFFQUUsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2pCQyxTQUFTLENBQUcsU0FBU0MsYUFBVCxDQUF3QkMsY0FBeEIsQ0FBd0NDLE1BQXhDLENBQStDLHlCQUN2RCxHQUFJQyxDQUFBQSxHQUFHLDBCQUFHVCxFQUFFLENBQUNVLFlBQUgsQ0FBZ0JKLGFBQWhCLENBQUgsQ0FBUCxDQUR1RCx3QkFFdkRHLEdBQUcsQ0FBR0EsR0FBRyxDQUFDRSxRQUFKLEVBQU4sQ0FGdUQsd0JBR3ZERixHQUFHLENBQUNHLElBQUosQ0FDQSxHQUFJQyxDQUFBQSxLQUFLLDBCQUFDSixHQUFHLENBQUNLLEtBQUosQ0FBVSxJQUFWLENBQUQsQ0FBVCxDQUNBLEdBQUlDLENBQUFBLE1BQU0sMEJBQUcsQ0FBSCxD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YUFBakIsQ0FBZ0MyQixNQUFoQyxFQURHLHlCQUVILE1BQU9BLENBQUFBLE1BQVAsQ0FDSCxDQUNKLENBdEVnQixDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbkNTVnRvSlNPTiA6IGZ1bmN0aW9uKGNzdl9maWxlX25hbWUsIGpzb25fZmlsZV9uYW1lLCBoZWFkZXIpe1xuICAgIHZhciBjc3YgPSBmcy5yZWFkRmlsZVN5bmMoY3N2X2ZpbGVfbmFtZSk7XG4gICAgY3N2ID0gY3N2LnRvU3RyaW5nKCk7XG4gICAgY3N2LnRyaW07XG4gICAgdmFyIGxpbmVzPWNzdi5zcGxpdChcIlxcblwiKTtcbiAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGxpbmVzLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgIGlmIChsaW5lc1t5XS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZW5ndGgrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgaWYgKGhlYWRlciA9PT0gdHJ1ZSkge1xuICAgICAgICBsaW5lc1swXSA9IGxpbmVzWzBdLnJlcGxhY2UoLyAvZywnJyk7XG4gICAgICAgIHZhciBoZWFkZXJzPWxpbmVzWzBdLnNwbGl0KFwiLFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmxhbmsgPSBcIiwgLCAgLCAgICwgICAgLCAgICAgLCAgICAgICwgICAgICAgLCAgICAgICAgLCAgICAgICAgIFwiO1xuICAgICAgICB2YXIgaGVhZGVycyA9IGJsYW5rLnNwbGl0KFwiLFwiKTtcbiAgICB9XG4gICAgZm9yKHZhciBpPTE7aTxsZW5ndGg7aSsrKXtcbiAgXG4gICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgdmFyIGN1cnJlbnRsaW5lPWxpbmVzW2ldLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgZm9yKHZhciBqPTA7ajxjdXJyZW50bGluZS5sZW5ndGg7aisrKXtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjdXJyZW50bGluZVtqXS50cmltKCk7XG4gICAgICAgICAgICBvYmpbaGVhZGVyc1tqXV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKG9iaik7XG4gIFxuICAgIH1cbiAgICByZXN1bHQgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDQpO1xuICAgIGZzLndyaXRlRmlsZVN5bmMoanNvbl9maWxlX25hbWUsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuSlNPTnRvQ1NWIDogZnVuY3Rpb24oanNvbl9maWxlX25hbWUsIGNzdl9maWxlX25hbWUpe1xuICAgIHZhciB0ZW1wID0gZnMucmVhZEZpbGVTeW5jKGpzb25fZmlsZV9uYW1lKTtcbiAgICB2YXIganNvbiA9IHRlbXAudG9TdHJpbmcoKTtcbiAgICB2YXIgaGVhZGVyID0gJyc7XG4gICAgdmFyIHZhbHVlcyA9ICcnO1xuICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgdmFyIHRvdGFsX2NhdGVnb3JpZXM7XG4gICAgSlNPTi5wYXJzZShqc29uLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoa2V5ID09IDApIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb25lID09IGZhbHNlKSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBoZWFkZXIgKyBrZXkgKyAnLCAnO1xuICAgICAgICAgICAgdG90YWxfY2F0ZWdvcmllcysrO1xuICAgICAgICB9XG4gICAgfSk7IFxuICAgIGhlYWRlciA9IGhlYWRlci5zdWJzdHJpbmcoMCwgaGVhZGVyLmxlbmd0aCAtIDIpO1xuICAgIGhlYWRlciArPSAnXFxuJzsgXG4gICAgSlNPTi5wYXJzZShqc29uLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcyArIHZhbHVlICsgJywgJyA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuc3Vic3RyaW5nKDAsIHZhbHVlcy5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgIHZhbHVlcyArPSAnXFxuJztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhbHVlcyA9IGhlYWRlciArIHZhbHVlcztcbiAgICBpZih2YWx1ZXMubGFzdEluZGV4T2YoXCJcXG5cIik+MCkge1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGNzdl9maWxlX25hbWUsIHZhbHVlcy5zdWJzdHJpbmcoMCwgdmFsdWVzLmxhc3RJbmRleE9mKFwiXFxuXCIpKSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXMuc3Vic3RyaW5nKDAsIHZhbHVlcy5sYXN0SW5kZXhPZihcIlxcblwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhjc3ZfZmlsZV9uYW1lLCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbn1cbn0iXX0=